{#-
  Status Page Layout

  Template Hierarchy:
    govuk/template.njk (GOV.UK base template)
      ↓
    layouts/base.njk (plugin's layout with CSS/JS includes)
      ↓
    this template (status-specific content)

  IMPORTANT: Must extend "layouts/base.njk" (not "govuk/template.njk" directly)
  to get the plugin's CSS and JavaScript includes. See issue #1.
-#}
{% extends "layouts/base.njk" %}

{% from "govuk/components/tag/macro.njk" import govukTag %}
{% from "govuk/components/table/macro.njk" import govukTable %}
{% from "components/service-list.njk" import serviceList %}

{% block head %}
  {{ super() }}
  <meta http-equiv="refresh" content="60">
{% endblock %}

{% block content %}
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-full">
      <h1 class="govuk-heading-xl">GOV.UK Service Status</h1>

      {% if lastUpdate %}
        <p class="govuk-body">
          Last updated: <strong>{{ lastUpdate }}</strong>
        </p>
      {% endif %}

      {{ content | safe }}

      {% if services and services.length > 0 %}
        {{ serviceList(services) }}
      {% endif %}

      {% if showAbout %}
        <hr class="govuk-section-break govuk-section-break--xl govuk-section-break--visible">

        <h3 class="govuk-heading-m">About this service</h3>

        <p class="govuk-body">This page shows the current status of GOV.UK public services. The page automatically refreshes every 60 seconds.</p>

        <ul class="govuk-list govuk-list--bullet">
          <li><strong>Operational</strong> (Green): Service is functioning normally</li>
          <li><strong>Degraded</strong> (Yellow): Service is operational but experiencing elevated response times</li>
          <li><strong>Down</strong> (Red): Service is not responding or failing health checks</li>
          <li><strong>Pending</strong> (Grey): Service has not been checked yet</li>
        </ul>

        <p class="govuk-body">For technical details or to report issues, please contact the service team.</p>
      {% endif %}
    </div>
  </div>
{% endblock %}
